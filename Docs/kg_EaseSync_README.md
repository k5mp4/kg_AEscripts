# kg_EaseSync.jsx

After Effects用のイージングコントローラースクリプト

## 概要

「Mother」レイヤーのイージングカーブを他のプロパティに適用し、適用後もイージングを自由に変更できるスクリプトです。

## 特徴

- 5種類のイージングプリセット（カスタマイズ可能）
- 適用後もスライダーでイージングを変更可能
- 複数のキーフレームペアに個別のイージングを設定可能
- Motherレイヤーのカーブを編集すると全ての適用箇所に反映

## インストール

1. `kg_EaseSync.jsx` を以下のフォルダに保存:
   - Windows: `C:\Program Files\Adobe\Adobe After Effects <バージョン>\Support Files\Scripts\ScriptUI Panels\`
   - macOS: `/Applications/Adobe After Effects <バージョン>/Scripts/ScriptUI Panels/`
2. After Effectsを再起動
3. メニューから `ウィンドウ > kg_EaseSync` を選択

## 使い方

### 1. Motherレイヤーの作成

1. コンポジションを開く
2. パネルの「Layer Name」にMother名を入力（デフォルト: "mother"）
3. 「Create Mother」ボタンをクリック

Motherレイヤーには5つのイージングプリセットが作成されます:
- **Ease_1**: EaseInOut（標準的な緩急）
- **Ease_2**: EaseOut（最初速く、終わりゆっくり）
- **Ease_3**: EaseIn（最初ゆっくり、終わり速く）
- **Ease_4**: Linear（等速）
- **Ease_5**: Strong（強い緩急）

### 2. イージングの適用

1. アニメーションするプロパティを選択
2. 適用したい2つのキーフレームを選択
3. 「Default Ease」ドロップダウンで初期イージングを選択
4. 「Apply Ease to Selected Keyframes」ボタンをクリック

### 3. 適用後のイージング変更

適用すると対象レイヤーのエフェクトコントロールにスライダーが追加されます:
- スライダー名: `ME_プロパティ名_K開始-終了`（例: `ME_位置_K1-2`）
- 値を1〜5に変更するとイージングが切り替わります

### 4. 複数キーフレームペアへの適用

同じプロパティに複数のキーフレームがある場合:
1. キーフレーム1-2を選択して適用
2. キーフレーム2-3を選択して適用
3. それぞれ独立したスライダーで制御可能

### 5. イージングの削除

1. エクスプレッションを削除したいプロパティを選択
2. 「Remove Ease Expression」ボタンをクリック

## カスタマイズ

### イージングカーブの編集

Motherレイヤーの各スライダー（Ease_1〜5）のキーフレームを編集することで、カスタムイージングを作成できます。グラフエディターでベジェカーブを調整してください。

### バウンス・エラスティック等の複雑なイージング

Motherスライダーには3つ以上のキーフレームを設定できます。バウンスやエラスティックのような複雑なアニメーションカーブも作成可能です。

例（バウンス）:
1. Motherレイヤーの任意のスライダー（例: Ease_5）を選択
2. キーフレームを追加（例: 0→1→0.8→1→0.95→1）
3. 各キーフレームのタイミングとイージングを調整

スライダーの最初のキーから最後のキーまでの全体が、ターゲットのキーフレーム間にマッピングされます。

### プリセットの変更

スクリプト内の `EASE_PRESETS` 配列を編集することで、デフォルトのイージング設定を変更できます:

```javascript
var EASE_PRESETS = [
    { name: "Ease_1", inSpeed: 0, inInfluence: 33.33, outSpeed: 0, outInfluence: 33.33 },
    // ...
];
```

## 注意事項

- Motherレイヤーを削除するとエクスプレッションエラーが発生します
- Motherレイヤーの名前を変更した場合は再適用が必要です
- キーフレームの追加・削除後は再適用が必要な場合があります

## バージョン

- v1.2.0: 複数キーフレームペア対応、エクスプレッションマージ機能追加
